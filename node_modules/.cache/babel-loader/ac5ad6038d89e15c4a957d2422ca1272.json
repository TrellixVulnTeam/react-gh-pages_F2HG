{"ast":null,"code":"import _slicedToArray from\"/home/arcanjolevi/Documents/www/react-gh-pages/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./msg-page.scss\";import{Play,ArrowLeft}from\"react-feather\";import{useContext}from\"react\";import{MessageContext}from\"../../contexts/Messages\";import{AuthContext}from\"../../contexts/Auth\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function MsgPage(_ref){var goBack=_ref.goBack;var _useContext=useContext(AuthContext),user=_useContext.user;var _useContext2=useContext(MessageContext),currentChatUser=_useContext2.currentChatUser,messages=_useContext2.messages,sendMsg=_useContext2.sendMsg;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];return/*#__PURE__*/_jsxs(\"div\",{className:\"msg-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"msg-header\",children:[/*#__PURE__*/_jsx(ArrowLeft,{onClick:goBack,className:\"back-btn\",color:\"#505050\",size:20}),/*#__PURE__*/_jsxs(\"div\",{className:\"contact\",children:[/*#__PURE__*/_jsx(\"p\",{children:currentChatUser===null||currentChatUser===void 0?void 0:currentChatUser.name}),/*#__PURE__*/_jsx(\"img\",{src:currentChatUser===null||currentChatUser===void 0?void 0:currentChatUser.picture,alt:\"img\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg-scroll-zone\",children:[\");\",messages.map(function(i){return i.senderId===user.uid?/*#__PURE__*/_jsxs(\"div\",{className:\"msg-body-sent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"msg-data\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"msg-text\",children:i.message}),/*#__PURE__*/_jsx(\"div\",{className:\"msg-time\",children:i.timestamp?new Date(i.timestamp).toLocaleTimeString():\"\"})]}),/*#__PURE__*/_jsx(\"img\",{src:user.photoURL||\"\",alt:\"img\"})]},i.message):/*#__PURE__*/_jsxs(\"div\",{className:\"msg-body-received\",children:[/*#__PURE__*/_jsx(\"img\",{src:currentChatUser===null||currentChatUser===void 0?void 0:currentChatUser.picture,alt:\"img\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg-data\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"msg-text\",children:i.message}),/*#__PURE__*/_jsx(\"div\",{className:\"msg-time\",children:i.timestamp?new Date(i.timestamp).toLocaleTimeString():\"\"})]})]});})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"msg-edit-zone\",children:[/*#__PURE__*/_jsx(\"textarea\",{onChange:function onChange(e){setText(e.target.value);},value:text,name:\"msg\",id:\"chat-msg-input\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){sendMsg(text);setText(\"\");var obj=document.getElementById(\"msg-scroll-zone\");},className:\"send-btn\",children:/*#__PURE__*/_jsx(Play,{})})]})]});}","map":{"version":3,"sources":["/home/arcanjolevi/Documents/www/react-gh-pages/src/Components/fleetStatus/MsgPage.tsx"],"names":["Play","ArrowLeft","useContext","MessageContext","AuthContext","useState","MsgPage","goBack","user","currentChatUser","messages","sendMsg","text","setText","name","picture","map","i","senderId","uid","message","timestamp","Date","toLocaleTimeString","photoURL","e","target","value","obj","document","getElementById"],"mappings":"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","sourcesContent":["import \"./msg-page.scss\";\nimport { Play, ArrowLeft } from \"react-feather\";\nimport { useContext } from \"react\";\nimport { MessageContext } from \"../../contexts/Messages\";\nimport { AuthContext } from \"../../contexts/Auth\";\nimport { useRef } from \"react\";\nimport { getElapsedTime } from \"../../utils/time\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\ntype MsgPageParams = {\n  goBack: () => void;\n};\n\nexport function MsgPage({ goBack }: MsgPageParams) {\n  const { user } = useContext(AuthContext);\n  const { currentChatUser, messages, sendMsg } = useContext(MessageContext);\n\n  const [text, setText] = useState(\"\");\n  return (\n    <div className=\"msg-page\">\n      <div className=\"msg-header\">\n        <ArrowLeft\n          onClick={goBack}\n          className=\"back-btn\"\n          color=\"#505050\"\n          size={20}\n        />\n        <div className=\"contact\">\n          <p>{currentChatUser?.name}</p>\n          <img src={currentChatUser?.picture} alt=\"img\" />\n        </div>\n      </div>\n\n      <div className=\"msg-scroll-zone\">\n        );\n        {messages.map((i) =>\n          i.senderId === user.uid ? (\n            <div key={i.message} className=\"msg-body-sent\">\n              <div className=\"msg-data\">\n                <div className=\"msg-text\">{i.message}</div>\n                <div className=\"msg-time\">\n                  {i.timestamp\n                    ? new Date(i.timestamp).toLocaleTimeString()\n                    : \"\"}\n                </div>\n              </div>\n              <img src={user.photoURL || \"\"} alt=\"img\" />\n            </div>\n          ) : (\n            <div className=\"msg-body-received\">\n              <img src={currentChatUser?.picture} alt=\"img\" />\n              <div className=\"msg-data\">\n                <div className=\"msg-text\">{i.message}</div>\n                <div className=\"msg-time\">\n                  {i.timestamp\n                    ? new Date(i.timestamp).toLocaleTimeString()\n                    : \"\"}\n                </div>\n              </div>\n            </div>\n          )\n        )}\n      </div>\n      <div className=\"msg-edit-zone\">\n        <textarea\n          onChange={(e) => {\n            setText(e.target.value);\n          }}\n          value={text}\n          name=\"msg\"\n          id=\"chat-msg-input\"\n        ></textarea>\n        <div\n          onClick={() => {\n            sendMsg(text);\n            setText(\"\");\n            let obj = document.getElementById(\"msg-scroll-zone\");\n          }}\n          className=\"send-btn\"\n        >\n          <Play />\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}