{"ast":null,"code":"import{MapContainer,TileLayer,Marker,useMapEvents}from\"react-leaflet\";import L from\"leaflet\";import carIcon from\"../../assets/car.png\";import\"./map.scss\";import{useContext}from\"react\";import{LocationContext}from\"../../contexts/Location\";import{useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function getIcon(){return L.icon({iconUrl:carIcon,iconSize:[50,29]});}function MyComponent(){var _useContext=useContext(LocationContext),cordOnFocus=_useContext.cordOnFocus;var map=useMapEvents({});useEffect(function(){map.flyTo({lat:cordOnFocus.latitude,lng:cordOnFocus.longitude},map.getZoom());},[cordOnFocus,map]);return null;}export function Map(){var _useContext2=useContext(LocationContext),cords=_useContext2.cords;return/*#__PURE__*/_jsx(\"div\",{id:\"map-cont\",children:/*#__PURE__*/_jsxs(MapContainer,{style:{width:\"100%\",height:\"100%\",zIndex:0},center:[-25.5415553,-54.5508768],zoom:13,scrollWheelZoom:true,children:[/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png\"}),cords.map(function(i){return/*#__PURE__*/_jsx(Marker,{icon:getIcon(),position:[i.latitude,i.longitude]},i.driverId);}),/*#__PURE__*/_jsx(MyComponent,{})]})});}/*\n\n*/","map":{"version":3,"sources":["/home/arcanjolevi/Documents/www/react-gh-pages/src/pages/map/Map.tsx"],"names":["MapContainer","TileLayer","Marker","useMapEvents","L","carIcon","useContext","LocationContext","useEffect","getIcon","icon","iconUrl","iconSize","MyComponent","cordOnFocus","map","flyTo","lat","latitude","lng","longitude","getZoom","Map","cords","width","height","zIndex","i","driverId"],"mappings":"AAAA,OAASA,YAAT,CAAuBC,SAAvB,CAAkCC,MAAlC,CAA0CC,YAA1C,KAA8D,eAA9D,CACA,MAAOC,CAAAA,CAAP,KAAc,SAAd,CACA,MAAOC,CAAAA,OAAP,KAAoB,sBAApB,CACA,MAAO,YAAP,CAEA,OAASC,UAAT,KAA2B,OAA3B,CACA,OAASC,eAAT,KAAgC,yBAAhC,CACA,OAASC,SAAT,KAA0B,OAA1B,C,wFAEA,QAASC,CAAAA,OAAT,EAAmB,CACjB,MAAOL,CAAAA,CAAC,CAACM,IAAF,CAAO,CACZC,OAAO,CAAEN,OADG,CAGZO,QAAQ,CAAE,CAAC,EAAD,CAAK,EAAL,CAHE,CAAP,CAAP,CAKD,CAED,QAASC,CAAAA,WAAT,EAAuB,CACrB,gBAAwBP,UAAU,CAACC,eAAD,CAAlC,CAAQO,WAAR,aAAQA,WAAR,CACA,GAAMC,CAAAA,GAAG,CAAGZ,YAAY,CAAC,EAAD,CAAxB,CAEAK,SAAS,CAAC,UAAM,CACdO,GAAG,CAACC,KAAJ,CACE,CAAEC,GAAG,CAAEH,WAAW,CAACI,QAAnB,CAA6BC,GAAG,CAAEL,WAAW,CAACM,SAA9C,CADF,CAEEL,GAAG,CAACM,OAAJ,EAFF,EAID,CALQ,CAKN,CAACP,WAAD,CAAcC,GAAd,CALM,CAAT,CAOA,MAAO,KAAP,CACD,CAED,MAAO,SAASO,CAAAA,GAAT,EAAe,CACpB,iBAAkBhB,UAAU,CAACC,eAAD,CAA5B,CAAQgB,KAAR,cAAQA,KAAR,CAEA,mBACE,YAAK,EAAE,CAAC,UAAR,uBACE,MAAC,YAAD,EACE,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAAiCC,MAAM,CAAE,CAAzC,CADT,CAEE,MAAM,CAAE,CAAC,CAAC,UAAF,CAAc,CAAC,UAAf,CAFV,CAGE,IAAI,CAAE,EAHR,CAIE,eAAe,CAAE,IAJnB,wBAME,KAAC,SAAD,EACE,WAAW,CAAC,0EADd,CAEE,GAAG,CAAC,sEAFN,EANF,CAUGH,KAAK,CAACR,GAAN,CAAU,SAACY,CAAD,CAAO,CAChB,mBACE,KAAC,MAAD,EAEE,IAAI,CAAElB,OAAO,EAFf,CAGE,QAAQ,CAAE,CAACkB,CAAC,CAACT,QAAH,CAAaS,CAAC,CAACP,SAAf,CAHZ,EACOO,CAAC,CAACC,QADT,CADF,CAOD,CARA,CAVH,cAoBE,KAAC,WAAD,IApBF,GADF,EADF,CA0BD,CACD;AACA;AACA","sourcesContent":["import { MapContainer, TileLayer, Marker, useMapEvents } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport carIcon from \"../../assets/car.png\";\nimport \"./map.scss\";\n\nimport { useContext } from \"react\";\nimport { LocationContext } from \"../../contexts/Location\";\nimport { useEffect } from \"react\";\n\nfunction getIcon() {\n  return L.icon({\n    iconUrl: carIcon,\n\n    iconSize: [50, 29],\n  });\n}\n\nfunction MyComponent() {\n  const { cordOnFocus } = useContext(LocationContext);\n  const map = useMapEvents({});\n\n  useEffect(() => {\n    map.flyTo(\n      { lat: cordOnFocus.latitude, lng: cordOnFocus.longitude },\n      map.getZoom()\n    );\n  }, [cordOnFocus, map]);\n\n  return null;\n}\n\nexport function Map() {\n  const { cords } = useContext(LocationContext);\n\n  return (\n    <div id=\"map-cont\">\n      <MapContainer\n        style={{ width: \"100%\", height: \"100%\", zIndex: 0 }}\n        center={[-25.5415553, -54.5508768]}\n        zoom={13}\n        scrollWheelZoom={true}\n      >\n        <TileLayer\n          attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png\"\n        />\n        {cords.map((i) => {\n          return (\n            <Marker\n              key={i.driverId}\n              icon={getIcon()}\n              position={[i.latitude, i.longitude]}\n            ></Marker>\n          );\n        })}\n\n        <MyComponent />\n      </MapContainer>\n    </div>\n  );\n}\n/*\n\n*/\n"]},"metadata":{},"sourceType":"module"}